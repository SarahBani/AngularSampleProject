<div class="container">
  <div class="row">
    <form (ngSubmit)="onSave(f)" #f="ngForm">
      <div class="form-group">
        <label for="name">Name: </label>
        <input type="text" id="name" name="name" class="form-control" ngModel required />
      </div>
      <div class="form-group">
        <label for="uploadedImageUrl">Image: </label>
        <input type="file" id="uploadedImageUrl" class="form-control-file border"
               accept="image/*" (change)="uploadImage($event.target.files)">
      </div>
      <div class="row" *ngIf="isUploading">
        <div class="col-12 ">
          <progress id="file" value="{{ uploadedPercentage }}" max="100"></progress>
        </div>
      </div>
      <div class="row" *ngIf="uploadedImageUrl != null">
        <div class="col-12 uploaded-image">
          <img [src]="uploadedImageUrl" class="img-response" />
          <div>
            <img class="delete-image" src='/images/delete.png' alt="Delete Image"
                 (click)="onDeleteImage()" />
          </div>
        </div>
      </div>
      <div class="row" *ngIf="uploadedImageUrl == null">
        <img src="images/NoImage.png" class="img-response" />
      </div>
      <p *ngIf="(f.controls.name != null && !f.controls.name.valid && f.controls.name.touched)"
         class="alert-danger">
        Please enter valid values!
      </p>
      <div class="row">
        <div class="col-12">
          <button class="btn btn-primary" type="reset">Clear</button>
          <button class="btn btn-success" type="submit" [disabled]="!f.valid">Save</button>
          <button class="btn btn-danger" type="button" [disabled]="id == null" (click)="onDelete()">Delete</button>
          <button class="btn btn-warning" type="button" (click)="onCancel()">Cancel</button>
        </div>
      </div>
    </form>
  </div>
</div>

<app-spinner *ngIf="isLoading"></app-spinner>
